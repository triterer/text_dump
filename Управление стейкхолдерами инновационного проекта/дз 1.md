дз 1
========================

![qownnotes-media-ItZKUO](../media/qownnotes-media-ItZKUO.png)

## Опишите критерии приёмки как стейкхолдер для разработки

Составь критерии приёмки продукта. Продуктом является документно-реляционная база данных. Это база данных которая сочетает в себе возможность работы с неструктурированными данными, присущая документным базам данных и высокий уровень поддержания конситентности и транзакционности, свойственные реляционным базам данных. База данных должна быть распределённой и подддерживать горизонтальное расширение.

Для составления критериев пользуйся следующим планом для составления критериев.
1. Шаг 1: Определите цель задачи
Прежде чем начинать работу над задачей, необходимо четко определить цель задачи и то, что ожидается от конечного результата. Это поможет определить, какие критерии приемки будут необходимы. Уточните у заказчика, какой результат ожидают пользователи этой фичи.
«Задача будет выполнена, если пользователь сайта на экране оформления заказа может выбрать оплату онлайн»
2. Шаг 2: Определите требования
Следующий шаг - определить требования, которым должен удовлетворять конечный продукт по результату выполнения задачи. Это могут быть требования к функциональности, производительности, безопасности, масштабируемости и т.д. Ответьте на вопросы:
- будут ли в рамках задачи добавлены новые сущности или интеграции? нужна ли для этого отдельная документация?
- нужны ли дополнительные проверки скорости работы нового функционала?
3. Шаг 3: Определите критерии приемки
На основе требований теперь необходимо определить критерии приемки. Критерии приемки должны быть ясными, конкретными и измеримыми. Они должны быть связаны с требованиями и отражать то, что ожидается от конечного продукта. Избегайте обтекаемых, общих формулировок. Плохой вариант: "Задача выполнена в соответствии с требованиями", а правильный: "При переходе на страницу оформления заказа посетитель среди способов оплаты видит онлайн оплату".
4. Шаг 4: Определите процедуру приемки
Можно договориться о процедуре приемки для всех задач заранее, но правильнее проходить этот шаг для каждой конкретной задачи. Нет смысла закреплять функцию приемки для всех задач только за владельцем продукта или менеджером проекта. Очень частно критерием приемки будет технический блок, в принятии которого поможет архитектор, тех-лид или участник команды. Для истории можно указать ответственного за приемку, чтобы через 2-3 спринта/месяца обсудить детали приемки при возникновении вопроса. Это поможет избежать недопонимания и конфликтов в будущем.
5. Шаг 5: Определите процедуру приемки
Не менее важным является определение процедуры приемки. Это может включать в себя определение сроков и места проведения приемки, а также процедуры тестирования и оценки продукта. Зачем здесь сроки? Иногда приемка задачи может быть пройдена через некоторое время после релиза, если требуется время для накопления данных.
6. Шаг 6: Задокументируйте критерии приемки
Наконец, необходимо задокументировать критерии приемки и процедуру, чтобы они были доступны всем заинтересованным сторонам. Документация или список критериев должны быть ясными и понятными, должны быть указаны все детали процедуры приемки и критерии, которые будут использоваться. Здесь встречается частая ошибка, когда команды обсуждают критерии приемки и пытаются их запомнить. Не нужно запоминать, нужно зафиксировать в задаче
7. Завершение
Общий совет - важно не забывать о цели задач, проекта и требованиях к конечному продукту при определении критериев приемки. Критерии приемки должны быть достаточно жесткими, чтобы гарантировать качество продукта, но в то же время должны быть реалистичными и выполнимыми.

1. Хранить и обрабатывать неструктурированные (документные) данные с возможностью добавления описания их структуры.
2. Выполнять транзакции (атомарно, согласованно, изолированно, надёжно) над документами для которых описана структура хранения.
3. Поддержка запросов на SQL
4. Гарантировать распределённую согласованность данных и отказоустойчивость системы при работе в кластере.

---

##  Функцональные требования

1. Поддержка хранения неструктурированных данных в виде JSON документов.
2. Возможность описания структуры для коллекций JSON документов Поддержка хранения структурированных данных (таблицы, связи, индексы, ограничения целостности).
3. Возможность комбинированных запросов — выполнение SQL-запросов, включающих как табличные данные, так и элементы документов.  
4. Поддержка ACID-транзакций для операций над смешанными типами данных.  
5. Возможность определения схемы данных (schema-on-write) и работы без фиксированной схемы (schema-on-read).  
6. Наличие API (SQL + JSON/HTTP-интерфейсы) и драйверов для популярных языков программирования.  
7. Средства резервного копирования и восстановления данных, включая распределённые кластеры.  
8. Встроенная система контроля версий схемы, миграций и метаданных.

## ️ 2. Требования к архитектуре и масштабируемости

**Описание:**  
База данных должна быть распределённой и поддерживать горизонтальное масштабирование без потери согласованности.

**Требования:**
1. Поддержка горизонтального масштабирования (sharding, авто-распределение данных по узлам).  
2. Обеспечение репликации между узлами (master-master или master-slave) с возможностью автоматического переключения при сбое.  
3. Поддержка распределённых транзакций (например, с использованием протокола двухфазной фиксации).  
4. Возможность динамического добавления и удаления узлов кластера без остановки работы.  
5. Согласованность данных в рамках кластера должна соответствовать модели **strong consistency** или как минимум **configurable consistency**.  

---

##  3. Требования к производительности

**Описание:**  
Новый функционал не должен снижать производительность системы при типовых нагрузках.

**Требования:**
1. СУБД должна обеспечивать обработку не менее <указать ориентир, например 10 000 транзакций в секунду> при стандартных параметрах кластера.  
2. Средняя задержка ответа на запрос к смешанным данным (табличным + документным) не должна превышать 2× задержки запроса только к табличным данным.  
3. Поддержка кэширования запросов, индексов и документных структур.  
4. В рамках задачи **нужны дополнительные проверки скорости работы нового функционала** — нагрузочные тесты с замером производительности при различных сценариях (чтение, запись, транзакции, масштабирование).  
5. При расширении кластера производительность должна масштабироваться **линейно** в пределах 80% эффективности (т.е. при удвоении узлов производительность растёт хотя бы на 80%).

---

##  4. Требования к безопасности

**Описание:**  
База данных должна обеспечивать защиту данных и безопасную работу в распределённой среде.

**Требования:**
1. Поддержка шифрования данных на уровне хранения (at rest) и при передаче (in transit).  
2. Механизмы аутентификации и авторизации пользователей и сервисов.  
3. Аудит всех операций изменений данных и конфигурации.  
4. Возможность разграничения прав доступа на уровне таблиц, документов и атрибутов.

---

##  5. Требования к интеграциям и документации

**Ответ на вопрос:**  
> Будут ли в рамках задачи добавлены новые сущности или интеграции? Нужна ли для этого отдельная документация?

**Ответ:**  
Да, появятся новые сущности — смешанные типы данных (реляционные таблицы, документные коллекции, связи между ними), а также механизмы интеграции с приложениями через API или драйверы.  
Для этого **необходима отдельная техническая документация**, включая:
- описание схем данных и API;  
- примеры запросов;  
- инструкции по настройке кластера;  
- руководство по интеграции с внешними системами (например, ETL-пайплайны, BI-инструменты).  

---

##  6. Требования к тестированию и приёмке

**Требования:**
1. Провести функциональные тесты (CRUD-операции, транзакции, смешанные запросы).  
2. Провести нагрузочное тестирование нового механизма документно-реляционных запросов.  
3. Проверить горизонтальное масштабирование: добавление/удаление узлов в процессе работы кластера.  
4. Проверить отказоустойчивость при падении одного или нескольких узлов.  
5. Провести тесты согласованности данных в распределённой транзакции.  


## Опишите критерии оценки как клиентская сторона