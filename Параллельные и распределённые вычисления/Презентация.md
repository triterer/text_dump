Презентация
========================
## Вступление
Добрый день. Сегодня я расскажу про параллелизм в python. Основыватся я буду на первой главе книги Mastering concurrency in python.
## Язык и параллельность
Итак, проговорим вновь что такое последовательное исполнение и параллельное исполнение. Давайте сразу к делу. Русский язык, почему мы обозвали два термина concurency и parallelism одним словом параллельность? Не знаю, но переводчики разделили эти термины, введя свои собственные. Давайте рассмотрим эти термины и кратко вспомним чем они отличаются. 
## Последовательное
И начнём мы с самого скучного. Sequential (Последовательное) исполнение. Есть одна задача, её исполняет один програмный поток, на одном аппаратном потоке, на одном ядре, одного процессора... Кажется я ввёл много терминов и не пояснил. Давайте применим дреовоидную структуру (САМУЮ масштабируемую структуру представления)  для пояснения.
## Дерево потоков
Итак, как вы знаете в компьютере традиционно ставится один процессор. Но если мы говорим о серверных решениях, то это тоже не гарантированно. Далее, для выполнения большего числа задач. Один процессор содержит несколько ядер. Каждое из них может выполнять задачи независимо. Для выполнения задач, у каждого ядра есть один Hardware thread, он же аппаратный поток. Один, только в случае если мы не применяем технологии по типу Intel Hyper-Threading или Simultaneous Multi-Threading, а мы их применяем, так что у ядра два потока которые могут выполнять две задачи одновременно. Теперь, поверх одного аппаратного потока мы можем создать один или два.... Или много Software threads (програмных потоков) при помощи средств операционной системы и языков программирования. Получается как-то так. 
## Последовательное 2
Итак возварщаясь к последовательному исполнению, наше дерево сокращается до такого состояния. Мы занимаем програмным потоком один аппаратный поток целиком. соответсвено решаем три наши задачи по очереди. Но что если мы хотим больше одной задачи одновременно?
## Parallelism
Привет истинный параллелизм, который так и называется на английском. Выбором переводчиков стало словосочетание "ошеломительный параллелизм". То есть мы выделяем более одной аппаратной нити или одного аппаратного ядра для выполения соответсвующего числа задач. Все задачи выполняются понастоящему одновременно и завершаются так быстро как могут. Но что если нам не хватает этого числа задач и мы хотим больше? 
## Concurrency
Как я и упоминал мы можем создать поверх одной аппаратной нити несколько програмных. Называется такое действо concurrency, переводчики избрали словосочетание параллельность или одновременность. Но мы ведь не можем на одной аппаратной нити одновременно решать несколько задач. Как с этим помогут програмные? В целом никак, если у нас задачи выполнялись какое-то время максимально эффективно последовательно, то при использовании concurrency они будут выполнятся чуть дольше.
## Но зачем тогда?
Но зачем тогда мы применяем concurency? Как я и упомянул, это правда только если программа максимально эффективно выполняется. Но если нам вдруг нужно подгрузить что-то из оперативной памяти или хуже того жёсткого диска или... о нет, нам потребуется обратится к серверу. То наша задача может только запросить то что ей нужно и сидеть ждать у моря погоды, не занимаясь ничем. А значит в это время другая задача может потратить время аппаратной нити на свои нужды. 
## Concurrency with shared resources
Хорошо, звучит круто и красиво. Мы можем поделить аппаратную нить, переключаясь в моменты простоя. Но что делать, если две наших задачи работают с одним ресурсом. Например одной переменной? Есть два стула, на одном непредказуемость результата и это не очень удобно, на другом средства синхронизации. Что бы только один поток мог менять переменную. Эти штуки могут называть по разному, семафоры, мьютексы, локи и тд. Переводчики выделили отдельный термин при применении concurency с разделяемыми ресурсами и назвали это "Совместная работа". Но суть не в этом, а в том что при испольованиями двумя задачами одной переменной, график может выглядеть так. 

## Какие задачи параллелятся а какие нет
Сомнительно... Из этого примера выходит что не все задачи могут быть эффективно выполнены в параллель. Разделяемые ресурсы или зависимость результатов в цепочке, это примеры при которых параллельость будет потенциально медленнее чем последовательность.

## Python и выстрел в колено от GIL
А теперь время для главной шутки и сайдкика в виде упоминания того, что python это язык программирования, побеждённый циклом for... Итак разделяемые ресурсы это неприятно. Но что если мы используем "интерпретируемый" язык программирования и будем держать наш код в качестве разделяемого ресурса, так как сама структура хранения данных в памяти программы не является ориентированной на работу в многопоточности... Дамы, Господа у нас позвольте представить вам GIL (Global Interpreter Lock). Да python не очень хорош сам по себе и мы должны будем пытаться обходить эту проблему сблокировкой.
## Пример экстремального параллелизма из курса
И основной способ это сделать, это не решать эту проблему, а оставить с высокой возможностью к параллелизации более эффективным языкам программирования по типу C в составе бибилиотек Numpy, Tesseract, pandas, unsloth и тд. Где будет происходить невероятная оптимизация как эта.


можно прям из лекций пример с треугольником. Показать крутые наслоения функций. А потом сказать что мы сворачиваем удочки и пишем на питоне